import{p as e,a as n,r as t,c as o,b as a,t as l,u as r,F as s,d as i,o as d,e as u,v as c,n as p,f,g as m,h as g,i as v,j as h}from"./vendor.d780e0b8.js";e("data-v-f3eeae46");const w=a("p",null,[a("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation "),i(" | "),a("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1),R=a("p",null,[i(" Edit "),a("code",null,"components/HelloWorld.vue"),i(" to test hot module replacement. ")],-1);n();const b={props:{msg:String},setup(e){const n=t({count:0});return(t,i)=>(d(),o(s,null,[a("h1",null,l(e.msg),1),w,a("button",{type:"button",onClick:i[0]||(i[0]=e=>r(n).count++)}," count is: "+l(r(n).count),1),R],64))}};function k(e={}){const{immediate:n=!0,onNeedRefresh:t,onOfflineReady:o,onRegistered:a,onRegisterError:l}=e,r=u(!1),s=u(!1);return{updateServiceWorker:function(e={}){const{immediate:n=!1,onNeedRefresh:t,onOfflineReady:o,onRegistered:a,onRegisterError:l}=e;let r,s;if("serviceWorker"in navigator){r=new c("/pwabilerplate/sw.js",{scope:"/pwabilerplate/"}),r.addEventListener("activated",(e=>{e.isUpdate||null==o||o()}));{const e=()=>{null==t||t()};r.addEventListener("waiting",e),r.addEventListener("externalwaiting",e)}r.register({immediate:n}).then((e=>{s=e,null==a||a(e)})).catch((e=>{null==l||l(e)}))}return async(e=!0)=>{e&&(null==r||r.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()}))),s&&s.waiting&&await p(s.waiting,{type:"SKIP_WAITING"})}}({immediate:n,onNeedRefresh(){r.value=!0,null==t||t()},onOfflineReady(){s.value=!0,null==o||o()},onRegistered:a,onRegisterError:l}),offlineReady:s,needRefresh:r}}b.__scopeId="data-v-f3eeae46";const{updateServiceWorker:y}=k();var x=f({name:"ReloadPWA",setup(){const{offlineReady:e,needRefresh:n,updateServiceWorker:t}=k();return{offlineReady:e,needRefresh:n,updateServiceWorker:t,close:async()=>{e.value=!1,n.value=!1}}},methods:{async close(){this.offlineReady.value=!1,this.needRefresh.value=!1},async updateServiceWorker(){await y()}}});const W={key:0,class:"\n      flex flex-wrap\n      md:flex-nowrap\n      bg-pink-900\n      text-white text-sm\n      px-6\n      py-2\n      justify-between\n      align-middle\n    ",role:"alert"},E={class:"message mt-1"},S={key:0},j={key:1},A={class:"buttons flex align-middle mt-2 md:mt-0"};x.render=function(e,n,t,l,r,s){return e.offlineReady||e.needRefresh?(d(),o("div",W,[a("div",E,[e.offlineReady?(d(),o("span",S," App ready to work offline ")):(d(),o("span",j," New content available, click on reload button to update. "))]),a("div",A,[e.needRefresh?(d(),o("button",{key:0,onClick:n[0]||(n[0]=n=>e.updateServiceWorker()),class:"\n          w-full\n          px-4\n          py-2\n          text-sm text-white\n          leading-none\n          transition-colors\n          duration-150\n          bg-pink-900\n          border border-white\n          rounded\n          sm:w-auto\n          active:bg-pink-600\n          hover:bg-pink-700\n          focus:outline-none focus:shadow-outline-purple\n          mr-4\n        "}," Reload ")):m("",!0),a("button",{onClick:n[1]||(n[1]=(...n)=>e.close&&e.close(...n)),class:"\n          w-full\n          px-4\n          py-2\n          text-sm text-white\n          leading-none\n          transition-colors\n          duration-150\n          bg-pink-900\n          border border-white\n          rounded\n          sm:w-auto\n          active:bg-pink-600\n          hover:bg-pink-700\n          focus:outline-none focus:shadow-outline-purple\n        "}," Close ")])])):m("",!0)};var N=f({name:"App",components:{HelloWorld:b,ReloadPWA:x}});const V=a("img",{alt:"Vue logo",src:"/pwabilerplate/assets/logo.03d6d6da.png"},null,-1),_=a("p",null,"my change",-1);N.render=function(e,n,t,a,l,r){const i=g("ReloadPWA"),u=g("HelloWorld");return d(),o(s,null,[v(i),V,_,v(u,{msg:"Hello Vue 3 + Vite"})],64)},h(N).mount("#app");
